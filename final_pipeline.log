2025-08-09 19:03:29,581 [INFO] --- Running STEP 1: Generating Trending News: Attempt 1 of 3 ---
2025-08-09 19:03:45,982 [INFO] --- STEP 1: Generating Trending News completed successfully. ---
2025-08-09 19:03:45,983 [INFO] None
2025-08-09 19:03:48,002 [INFO] --- Running STEP 2: Generating Images: Attempt 1 of 3 ---
2025-08-09 19:04:11,188 [INFO] --- STEP 2: Generating Images completed successfully. ---
2025-08-09 19:04:11,188 [INFO] Starting main function...
Saved image 4 to generated_images\image_4.png
Saved image 2 to generated_images\image_2.png
Saved image 5 to generated_images\image_5.png
Saved image 3 to generated_images\image_3.png
No images returned for prompt 1

All images saved in the 'generated_images' folder.

2025-08-09 19:04:11,188 [INFO] All images generated and saved to 'generated_images'.
2025-08-09 19:04:13,194 [INFO] --- Running STEP 3: Creating Video from Images: Attempt 1 of 3 ---
2025-08-09 19:04:57,019 [INFO] --- STEP 3: Creating Video from Images completed successfully. ---
2025-08-09 19:04:57,019 [INFO] Found 4 images in 'generated_images'.
Moviepy - Building video temp_video_without_audio.mp4.
Moviepy - Writing video temp_video_without_audio.mp4

Moviepy - Done !
Moviepy - video ready temp_video_without_audio.mp4
Video saved as temp_video_without_audio.mp4
Deleted all images in 'generated_images' after successful video creation.

2025-08-09 19:04:57,020 [INFO] Video created and saved as 'temp_video_without_audio.mp4'.
2025-08-09 19:04:57,020 [INFO] Using ElevenLabs Key 2 for this run.
2025-08-09 19:04:57,021 [INFO] Selected voice: Kushi (ID: t0WUmKMVeMLJiTULHrF7)
2025-08-09 19:04:57,021 [INFO] --- Running STEP 4: Adding Captions and Speech: Attempt 1 of 3 ---
2025-08-09 19:08:00,959 [INFO] --- STEP 4: Adding Captions and Speech completed successfully. ---
2025-08-09 19:08:00,959 [INFO] Speech audio saved to: temp_speech.mp3
Moviepy - Building video temp_video_with_speech.mp4.
MoviePy - Writing audio in temp_video_with_speechTEMP_MPY_wvf_snd.mp4
MoviePy - Done.
Moviepy - Writing video temp_video_with_speech.mp4

Moviepy - Done !
Moviepy - video ready temp_video_with_speech.mp4
Output video saved to: temp_video_with_speech.mp4
No language specified, language will be first be detected for each audio file (increases inference time).
>>Performing voice activity detection using Pyannote...
Model was trained with pyannote.audio 0.0.1, yours is 3.3.2. Bad things might happen unless you revert pyannote.audio to 0.x.
Model was trained with torch 1.10.0+cu102, yours is 2.7.1+cpu. Bad things might happen unless you revert torch to 1.x.
Final video with captions saved to: final_no_ending.mp4
Moviepy - Building video final_output.mp4.
MoviePy - Writing audio in final_outputTEMP_MPY_wvf_snd.mp4
MoviePy - Done.
Moviepy - Writing video final_output.mp4

Moviepy - Done !
Moviepy - video ready final_output.mp4
Appended ending image to create: final_output.mp4

2025-08-09 19:08:02,972 [INFO] --- Running STEP 5: Uploading to YouTube: Attempt 1 of 3 ---
2025-08-09 19:08:07,776 [WARNING] --- STEP 5: Uploading to YouTube failed on attempt 1. Return code: 1 ---
2025-08-09 19:08:07,776 [WARNING] Stderr: Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\step5_final_upload.py", line 174, in <module>
    main()
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\step5_final_upload.py", line 158, in main
    youtube = get_authenticated_service()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\step5_final_upload.py", line 27, in get_authenticated_service
    creds = Credentials.from_authorized_user_file(TOKEN_FILE, [ "https://www.googleapis.com/auth/youtube.upload"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\myenv\Lib\site-packages\google\oauth2\credentials.py", line 517, in from_authorized_user_file
    return cls.from_authorized_user_info(data, scopes)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\myenv\Lib\site-packages\google\oauth2\credentials.py", line 464, in from_authorized_user_info
    raise ValueError(
ValueError: Authorized user info was not in the expected format, missing fields refresh_token.

2025-08-09 19:08:07,776 [INFO] Retrying in 5 seconds...
2025-08-09 19:08:12,787 [INFO] --- Running STEP 5: Uploading to YouTube: Attempt 2 of 3 ---
2025-08-09 19:08:17,517 [WARNING] --- STEP 5: Uploading to YouTube failed on attempt 2. Return code: 1 ---
2025-08-09 19:08:17,518 [WARNING] Stderr: Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\step5_final_upload.py", line 174, in <module>
    main()
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\step5_final_upload.py", line 158, in main
    youtube = get_authenticated_service()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\step5_final_upload.py", line 27, in get_authenticated_service
    creds = Credentials.from_authorized_user_file(TOKEN_FILE, [ "https://www.googleapis.com/auth/youtube.upload"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\myenv\Lib\site-packages\google\oauth2\credentials.py", line 517, in from_authorized_user_file
    return cls.from_authorized_user_info(data, scopes)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\myenv\Lib\site-packages\google\oauth2\credentials.py", line 464, in from_authorized_user_info
    raise ValueError(
ValueError: Authorized user info was not in the expected format, missing fields refresh_token.

2025-08-09 19:08:17,518 [INFO] Retrying in 5 seconds...
2025-08-09 19:08:22,519 [INFO] --- Running STEP 5: Uploading to YouTube: Attempt 3 of 3 ---
2025-08-09 19:08:26,627 [WARNING] --- STEP 5: Uploading to YouTube failed on attempt 3. Return code: 1 ---
2025-08-09 19:08:26,627 [WARNING] Stderr: Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\step5_final_upload.py", line 174, in <module>
    main()
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\step5_final_upload.py", line 158, in main
    youtube = get_authenticated_service()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\step5_final_upload.py", line 27, in get_authenticated_service
    creds = Credentials.from_authorized_user_file(TOKEN_FILE, [ "https://www.googleapis.com/auth/youtube.upload"])
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\myenv\Lib\site-packages\google\oauth2\credentials.py", line 517, in from_authorized_user_file
    return cls.from_authorized_user_info(data, scopes)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\VS\Projetcs\AutomateYoutube\myenv\Lib\site-packages\google\oauth2\credentials.py", line 464, in from_authorized_user_info
    raise ValueError(
ValueError: Authorized user info was not in the expected format, missing fields refresh_token.

2025-08-09 19:08:26,628 [ERROR] All 3 attempts failed for STEP 5: Uploading to YouTube. Exiting pipeline.
