2025-07-21 18:13:42,638 [INFO] --- Running STEP 1: Generating Trending News: Attempt 1 of 3 ---
2025-07-21 18:14:01,370 [INFO] --- STEP 1: Generating Trending News completed successfully. ---
2025-07-21 18:14:01,370 [INFO] Step 1.1: Fetching top 5 latest news from NewsData.io...

Fetched news headlines and description lengths:
1. IDF Kills Hamas Commander, Hits 75 Terror Targets In Latest Op | Description words: 48
2. Hamlin survives rain delay, overtime finish to win for second straight year at Dover | Description words: 68
3. Global growth of renewable energy is not secular | Description words: 20
4. Trump lashes out after illegal immigrant shoots off-duty officer in New York | Description words: 37
5. SC grants protection from arrest to actor Shreyas Talpade in 'multi-level marketing' scam case in Haryana. | Description words: 16

Selected news with the longest description:
Title: Hamlin survives rain delay, overtime finish to win for second straight year at Dover
Description length: 68 words

Step 1.2: Generating YouTube description with Gemini...

Generated summary:
Denny Hamlin dominated at Dover, securing his fourth win of the NASCAR Cup Series season.  This victory marks back-to-back wins for Hamlin, showcasing his exceptional ability to overcome challenges.  He expertly managed tire wear and maintained his lead despite a rain delay.  Even a prior legal battle with NASCAR didn't deter his focus.  Hamlin's consistent performance and strategic prowess solidify his position as a top contender this season.  His resilience and skill were on full display, making this a truly impressive win for the Joe Gibbs Racing driver.  Witness the mastery of a champion.

Step 1.3: Generating hashtags...
Hashtags: #DennyHamlin, #NASCAR, #DoverInternationalSpeedway, #JoeGibbsRacing, #Motorsports, #StockCarRacing, #Racing, #AutoRacing, #HamlinWins, #NASCARCupSeries

Step 1.4: Generating YouTube hook with Gemini...
Generated hook: Hamlin wins again! Dover dominance.

All done! Output saved to news_output.json

2025-07-21 18:14:03,403 [INFO] --- Running STEP 2: Generating Images: Attempt 1 of 3 ---
2025-07-21 18:14:20,061 [INFO] --- STEP 2: Generating Images completed successfully. ---
2025-07-21 18:14:20,061 [INFO] Starting main function...
No images returned for prompt 4
Saved image 2 to generated_images\image_2.png
Saved image 3 to generated_images\image_3.png
Saved image 1 to generated_images\image_1.png
Saved image 5 to generated_images\image_5.png

All images saved in the 'generated_images' folder.

2025-07-21 18:14:20,061 [INFO] All images generated and saved to 'generated_images'.
2025-07-21 18:14:22,077 [INFO] --- Running STEP 3: Creating Video from Images: Attempt 1 of 3 ---
2025-07-21 18:15:15,034 [INFO] --- STEP 3: Creating Video from Images completed successfully. ---
2025-07-21 18:15:15,034 [INFO] Found 4 images in 'generated_images'.
Moviepy - Building video temp_video_without_audio.mp4.
Moviepy - Writing video temp_video_without_audio.mp4

Moviepy - Done !
Moviepy - video ready temp_video_without_audio.mp4
Video saved as temp_video_without_audio.mp4
Deleted all images in 'generated_images' after successful video creation.

2025-07-21 18:15:15,034 [INFO] Video created and saved as 'temp_video_without_audio.mp4'.
2025-07-21 18:15:15,034 [INFO] Selected voice: Alice (ID: Xb7hH8MSUJpSbSDYk0k2)
2025-07-21 18:15:15,034 [INFO] --- Running STEP 4: Adding Captions and Speech: Attempt 1 of 3 ---
2025-07-21 18:18:19,713 [INFO] --- STEP 4: Adding Captions and Speech completed successfully. ---
2025-07-21 18:18:19,714 [INFO] Speech audio saved to: temp_speech.mp3
Moviepy - Building video temp_video_with_speech.mp4.
MoviePy - Writing audio in temp_video_with_speechTEMP_MPY_wvf_snd.mp4
MoviePy - Done.
Moviepy - Writing video temp_video_with_speech.mp4

Moviepy - Done !
Moviepy - video ready temp_video_with_speech.mp4
Output video saved to: temp_video_with_speech.mp4
No language specified, language will be first be detected for each audio file (increases inference time).
>>Performing voice activity detection using Pyannote...
Model was trained with pyannote.audio 0.0.1, yours is 3.3.2. Bad things might happen unless you revert pyannote.audio to 0.x.
Model was trained with torch 1.10.0+cu102, yours is 2.7.1+cpu. Bad things might happen unless you revert torch to 1.x.
Final video with captions saved to: final_no_ending.mp4
Moviepy - Building video final_output.mp4.
MoviePy - Writing audio in final_outputTEMP_MPY_wvf_snd.mp4
MoviePy - Done.
Moviepy - Writing video final_output.mp4

Moviepy - Done !
Moviepy - video ready final_output.mp4
Appended ending image to create: final_output.mp4

2025-07-21 18:18:21,733 [INFO] --- Running STEP 5: Uploading to YouTube: Attempt 1 of 3 ---
2025-07-21 18:18:39,758 [INFO] --- STEP 5: Uploading to YouTube completed successfully. ---
2025-07-21 18:18:39,758 [INFO] Validating video... Duration: 44.58 seconds.

Authenticating with YouTube...
Please visit this URL to authorize this application: https://accounts.google.com/o/oauth2/auth?response_type=code&client_id=685844118333-r0ohilv6dcuj5295sh0io2jtq16q5192.apps.googleusercontent.com&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fyoutube.upload&state=FCCQxTMRScdNMrVkF2lUPeR3sAIf2C&access_type=offline
Appended #Shorts to title.
Appended hastags to description.
Added 'shorts' to tags.

Uploading file: final_output.mp4...
Upload Complete! Video ID: kWcU23eNKfM

Video uploaded successfully! Watch your Short at: https://www.youtube.com/shorts/kWcU23eNKfM

2025-07-21 18:18:39,758 [INFO] YouTube upload process completed.
2025-07-21 18:18:39,758 [INFO] === ALL STEPS COMPLETED SUCCESSFULLY ===
